<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SVG viewBox å®Ÿé¨“</title>
<style>
  body {
    font-family: system-ui, sans-serif;
    background: #f7f8fb;
    padding: 2rem;
  }
  .controls {
    background: white;
    padding: 1rem;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    margin-bottom: 1rem;
  }
  label {
    display: block;
    margin: 0.5rem 0;
  }
  svg {
    border: 1px solid #ccc;
    background: #fafafa;
    display: block;
    margin: auto;
  }
</style>
</head>
<body>

<h1>ğŸ¶ SVG viewBox ã‚ºãƒ¼ãƒ ï¼†ãƒ‘ãƒ³ å®Ÿé¨“</h1>

<div class="controls">
  <label>
    ã‚ºãƒ¼ãƒ ï¼ˆvbW / vbHï¼‰:
    <input type="range" id="zoom" min="20" max="200" value="100">
    <span id="zoomVal">100</span>
  </label>
  <label>
    æ¨ªãƒ‘ãƒ³ï¼ˆminXï¼‰:
    <input type="range" id="panX" min="0" max="100" value="0">
    <span id="panXVal">0</span>
  </label>
  <label>
    ç¸¦ãƒ‘ãƒ³ï¼ˆminYï¼‰:
    <input type="range" id="panY" min="0" max="100" value="0">
    <span id="panYVal">0</span>
  </label>
  <p>
    SVGè¡¨ç¤ºã‚µã‚¤ã‚º: <strong id="svgSize">200 Ã— 200 px</strong><br>
    ç¾åœ¨ã® scale: <strong id="scaleVal"></strong>
  </p>
</div>

<svg id="mysvg" width="200" height="200" viewBox="0 0 100 100">
  <!-- èƒŒæ™¯ã®æ ¼å­ -->
  <defs>
    <pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse">
      <rect width="10" height="10" fill="white" />
      <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#ddd" stroke-width="0.5" />
    </pattern>
  </defs>
  <rect x="0" y="0" width="100" height="100" fill="url(#grid)" />

  <!-- ãƒ¡ã‚¤ãƒ³ã®å›³å½¢ -->
  <rect x="10" y="10" width="80" height="80" fill="#6fb3ff" stroke="#1e88e5" stroke-width="2" />
  <circle cx="50" cy="50" r="30" fill="rgba(255,0,0,0.3)" stroke="red" stroke-width="2" />
</svg>

<script>
const svg = document.getElementById('mysvg');
const zoom = document.getElementById('zoom');
const panX = document.getElementById('panX');
const panY = document.getElementById('panY');

const zoomVal = document.getElementById('zoomVal');
const panXVal = document.getElementById('panXVal');
const panYVal = document.getElementById('panYVal');
const scaleVal = document.getElementById('scaleVal');

function updateViewBox() {
  const vbW = Number(zoom.value);
  const vbH = Number(zoom.value); // æ­£æ–¹å½¢ã«ä¿ã¤
  const minX = Number(panX.value);
  const minY = Number(panY.value);

  // SVGã®width/heightï¼ˆpxï¼‰å–å¾—
  const svgCSSWidth = svg.clientWidth;
  const svgCSSHeight = svg.clientHeight;

  // scaleè¨ˆç®—ï¼ˆæ¨ªæ–¹å‘ã®ã¿è¡¨ç¤ºï¼‰
  const scale = (svgCSSWidth / vbW).toFixed(2);

  // viewBox æ›´æ–°
  svg.setAttribute('viewBox', `${minX} ${minY} ${vbW} ${vbH}`);

  // è¡¨ç¤ºæ›´æ–°
  zoomVal.textContent = vbW;
  panXVal.textContent = minX;
  panYVal.textContent = minY;
  scaleVal.textContent = `1 å˜ä½ = ${scale} px`;
}

zoom.addEventListener('input', updateViewBox);
panX.addEventListener('input', updateViewBox);
panY.addEventListener('input', updateViewBox);

updateViewBox();
</script>

</body>
</html>
